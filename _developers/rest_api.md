---
title: REST API
label: MDS REST API
collection: developers
---
# MDS REST API

## Authentication

The dispatch server will accept basic authentication for requests.

## Response format
Responses must return a JSON object with `status`, `code`, and `message`
fields and an optional `errors` in the case failure.

* `status` - A string displaying **SUCCESS** or **FAILURE**
* `code` - An int value similar to http response code but with 
additional options.
* `message` - An array containing either a list of zero or more objects
on success or list of one or more exception messages.

### Successful Response 
`{ "status": "SUCCESS", "code": 200, "message": [] }`
<br/>A successful response will normally return a code of 200

### Failure Response 
`{ "status": "FAIL", "code": 400, "message": [] }`
<br/>A failure response will have a code value greater than or equal to 
400.

## Request Methods
All resources will accept GET, POST, and PUT request methods. DELETE 
methods are not available. Objects should be updated as 'voided' 
instead. The only exception is the session resource which accepts POST 
and DELETE only.

## UUID Uri param
The UUID value is optional in the url path for GET and PUT requests and
not allowed for POST requests. 

__Note:__ POST calls allow for inclusion of the *uuid* field in the 
request body. This will override the value *uuid* value generated by
the server.

## URI Templates and Fields

<table class="content-table">
  <thead>
    <tr>
      <th>Resource</th>
      <th>Uri</th>
      <th>Methods</th>
      <th>Fields</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td align="left">Session</td>
      <td align="left">core/session/</td>
      <td align="left">POST<br>DELETE</td>
      <td>username<br>password<br></td>
    </tr>
    <tr>
      <td align="left">Concept</td>
      <td align="left">core/concept/{uuid}</td>
      <td align="left">GET<br>POST<br>PUT</td>
      <td>uuid<br>created<br>modified<br>voided<br>name<br>display_name<br>description<br>conceptclass<br>datatype<br>mimetype<br>constraint</td>
    </tr>
    <tr>
      <td align="left">Device</td>
      <td align="left">core/device/{uuid}</td>
      <td align="left">GET<br>POST<br>PUT</td>
      <td>uuid<br>created<br>modified<br>name</td>
    </tr>
      <tr>
      <td align="left">Encounter</td>
      <td align="left">core/encounter/{uuid}</td>
      <td align="left">GET<br>POST<br>PUT</td>
      <td>uuid<br>created<br>modified<br>voided<br>procedure<br>observer<br>device<br>subject<br>concept</td>
    </tr>
    <tr>
      <td align="left">Event</td>
      <td align="left">core/event/{uuid}</td>
      <td align="left">GET<br>POST</td>
      <td>uuid<br>created<br>modified<br>voided<br>client<br>path<br>level<br>messages<br>duration<br>timestamp<br>message</td>
    </tr>
    <tr>
      <td align="left">Instruction</td>
      <td align="left">core/instruction/{uuid}</td>
      <td align="left">GET<br>POST<br>PUT</td>
      <td>uuid<br>created<br>modified<br>voided<br>concept<br>predicate<br>algorithm</td>
    </tr>
    <tr>
      <td align="left">Location</td>
      <td align="left">core/location/{uuid}</td>
      <td align="left">GET<br>POST<br>PUT</td>
      <td>uuid<br>created<br>modified<br>voided<br>name</td>
    </tr>
    <tr>
      <td align="left">Observation</td>
      <td align="left">core/observation/{uuid}</td>
      <td align="left">GET<br>POST<br>PUT</td>
      <td>uuid<br>created<br>modified<br>voided<br>encounter<br>node<br>concept<br>value_text<br>value_complex</td>
    </tr>
    <tr>
      <td align="left">Observer</td>
      <td align="left">core/observer/{uuid}</td>
      <td align="left">GET<br>POST<br>PUT</td>
      <td>uuid<br>created<br>modified<br>voided<br>user</td>
    </tr>
    <tr>
      <td align="left">Procedure</td>
      <td align="left">core/procedure/{uuid}</td>
      <td align="left">GET<br>POST<br>PUT</td>
      <td>uuid<br>created<br>modified<br>voided<br>title<br>author<br>description<br>version<br>src</td>
    </tr>
    <tr>
      <td align="left">Subject</td>
      <td align="left">core/subject/{uuid}</td>
      <td align="left">GET<br>POST<br>PUT</td>
      <td>uuid<br>created<br>modified<br>voided<br>given_name<br>family_name<br>dob<br>gender<br>image<br>location<br>system_id</td>
    </tr>
    <tr>
      <td align="left">Encounter Task</td>
      <td align="left">tasks/encountertask/{uuid}</td>
      <td align="left">GET<br>POST<br>PUT</td>
      <td>uuid<br>created<br>modified<br>voided<br>assigned_to<br>status<br>due_on<br>started<br>completed<br>concept<br>voided<br>subject<br>procedure<br>encounter</td>
    </tr>
    <tr>
      <td align="left">Observation Task</td>
      <td align="left">tasks/observationtask/{uuid}</td>
      <td align="left">GET<br>POST<br>PUT</td>
      <td>uuid<br>created<br>modified<br>voided<br>assigned_to<br>status<br>due_on<br>started<br>completed<br>concept<br>voided<br>subject<br>instruction<br>encounter</td>
    </tr>
  </tbody>
</table>

## Related objects in POST and PUT Requests
POST and PUT requests for object fields where the field represents the
related object will accept either the *uuid* string value or the object
representation. Related field objects must be sent in POST requests
prior to the object request.

## POST data format
POST requests will accept the following as the request body
* form-data
* x-www-form-urlencoded
* json

## Testing
Requests can be sent to the server using any REST client, either as a 
browser plugin or from a command line.

#### Command Line - Curl
* Example GET to localhost:

        curl --basic admin:Sanamobile1 -H "Accept: application/json" http://127.0.0.1:8000/core/concept/
* Example POST to localhost:

        curl -H "Accept: application/json" -H "Content-Type: application/json; charset=UTF-8" -X POST -d '{"username":"admin","password":"Sanamobile1"}' http://127.0.0.1:8000/core/session/
#### Browser Based Client
Most major browsers have a REST client plugin. For the Google Chrome 
browser, we recommend using the [Postman REST Client](https://chrome.google.com/webstore/detail/postman-rest-client/fdmmgilgnpjigdojojpjoooidkmcomcm?hl=en), available in the Chrome web store. If using Postman, a sample collection may be downloaded here:<br/>

[mds-current postman](http://demo.sana.csail.mit.edu/downloads/mds2/mds2.json)

The example collection will require setting up an environment with 
following parameters utilized in the request urls as 
    
{% raw %}`{{scheme}}://{{host}}{{port}}/{{path_prefix}}`{% endraw %}

* **scheme** http or https

